<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<title>–ö–æ—Ä–∑–∏–Ω–∞ - MANSOR</title>
<link rel="stylesheet" href="style.css">
<style>
  #menuModal {
  z-index: 1000; /* –í—ã—à–µ, —á–µ–º overlay */
}

  .modal {
    display: none; /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
    position: fixed; /* –û—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ */
    z-index: 1; /* –ù–∞ –ø–µ—Ä–µ–¥–Ω–µ–º –ø–ª–∞–Ω–µ */
    left: 0;
    top: 0;
    width: 100%; /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
    height: 100%; /* –ü–æ–ª–Ω–∞—è –≤—ã—Å–æ—Ç–∞ */
    overflow: auto; /* –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫—É –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ */
    background-color: rgb(0,0,0); /* –§–æ–Ω —Å –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —á–µ—Ä–Ω—ã–º */
    background-color: rgba(0,0,0,0.7); /* –ß–µ—Ä–Ω—ã–π —Å 70% –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å—é */
  }
  .modal-content {
    background-color: #fefefe;
    padding: 20px;
    width: 30%; /* –ú–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –ª—é–±—É—é —à–∏—Ä–∏–Ω—É */
    height: 100%;
    display: flex; /* –ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –¥–∏–≤ –≤ Flex-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    flex-direction: column; /* –†–∞—Å–ø–æ–ª–∞–≥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
    gap: 0;
  }
  .close {
    color: #000000;
    float: left;
    font-size: 23px;
    font-weight: bold;
  }
.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
.korz{
    margin-top: auto; /* –≠—Ç–æ—Ç –æ—Ç—Å—Ç—É–ø "–≤—ã—Ç–∞–ª–∫–∏–≤–∞–µ—Ç" —Å—Å—ã–ª–∫—É –≤–Ω–∏–∑ */
  }
  .rabotatop{
    color: white;
  }
  .buttoncar{
    margin-top: -40px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
    margin-bottom: 20px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    /* –î—Ä—É–≥–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  }
  .buttoncar1{
    margin-top: -40px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
    margin-bottom: 20px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    /* –î—Ä—É–≥–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  }
  .buttoncar0{
    margin-top: -20px; /* –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
    margin-bottom: 20px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
    /* –î—Ä—É–≥–∏–µ —Å—Ç–∏–ª–∏ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  }
   body {
    font-family: 'Arial', sans-serif;
    background-color: white;
    margin: 0;
    padding: 10px;
  }

  h1 {
    text-align: center;
    color: #000000;
  }

  #back-btn {
    display: block;
    margin: 10px auto 20px auto;
    padding: 10px 20px;
    background-color: #000000;
    color: #fff;
    border: none;
    border-radius: 6px;
    cursor: pointer;
  }
  #back-btn:hover {
    border: solid 1px black;
    background-color: #f8f8f8;
    color: black;
  }

  /* –°—Ç–∏–ª—å –±–æ–ª–µ–µ –∫—Ä–∞—Å–∏–≤–æ–π –∫–æ—Ä–∑–∏–Ω—ã */
  table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 15px;
    margin-bottom: 30px;
  }
  th {
    background-color: #ffffff;
    color: #000000;
    padding: 14px 10px;
    border: solid 1px #000000;
  }
  td {
    background-color: #fff;
    padding: 12px 10px;
    border-radius: 0 0 8px 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    vertical-align: middle;
  }
  td input[type=number] {
    width: 60px;
    padding: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
    text-align: center;
  }
  .remove-btn {
    padding: 6px 12px;
    background-color: #000000;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 12px;
    transition: background 0.3s;
  }
  .remove-btn:hover {
    border: solid 1px black;
    background-color: #f8f8f8;
    color: black;
  }

  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–æ—Ä–º—ã */
  #overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 999;
  }

  #modal {
    background: #fff;
    padding: 30px;
    border-radius: 12px;
    max-width: 600px;
    width: 90%;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    position: relative;
  }

  #modal h2 {
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
    color: #000000;
  }

  #orderform label {
    display: block;
    margin-top: 10px;
    font-weight: bold;
  }

  #orderform input[type=text],
  #orderform input[type=ID],
  #orderform input[type=tel],
  #orderform textarea {
    width: 100%;
    padding: 8px;
    margin-top: 4px;
    border: 1px solid #ccc;
    border-radius: 4px;
  }

  #orderform textarea {
    resize: vertical;
  }

  #submit-order {
    display: block;
    width: 100%;
    padding: 12px;
    margin-top: 20px;
    background-color: #000000;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: background 0.3s;
  }

  #submit-order:hover {
      background-color: #ffffff;
    border: solid 1px black;
    color: black;
  }

  /* –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–æ—Ä–º—ã */
  #order-btn {
    display: block;
    margin: 20px auto;
    padding: 14px 28px;
    font-size: 18px;
    background-color: #000000;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.3s;
  }

  #order-btn:hover {
    background-color: #ffffff;
    border: solid 1px black;
    color: black;
  }
</style>
</head>
<body>

<!-- Header -->
      <header class="header">
        <button class="menu-button" aria-label="Open menu">
          <div class="hamburger-icon">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
          </div>
          <span class="menu-text">–ú–µ–Ω—é</span>
        </button>
      
<div class="ppooll">
        <a class="logo" href="../index.html">Mansor</a>
</div>
      </header>

<div class="verh">
<h1>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h1>

</div>
      <div id="menumodal" class="modal">
        <div class="modal-content">
          <span id="closeModal" class="close">–ó–∞–∫—Ä—ã—Ç—å</span><br><br><br>
          <button class="buttoncar0" onclick="location.href='../bmw/index.html'">BMW</button><br>
          <button class="buttoncar" onclick="location.href='../porsche/index.html'">Porsche</button><br>
          <button class="buttoncar1" onclick="location.href='../merc/index.html'">Mercedes-Benz</button><br>
          <button class="buttoncart" onclick="location.href='../carta/index.html'">–ö–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞</buttn><br>
          <button class="buttonsvyaz" onclick="location.href='../svyaz/index.html'">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</button>
          <button class="korz" onclick="location.href='cart.html'">–ö–æ—Ä–∑–∏–Ω–∞</button>

        </div>
    </div>


<!-- –¢–∞–±–ª–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
<table>
  <thead>
    <tr>
      <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
      <th>–¶–µ–Ω–∞ –∑–∞ —à—Ç.</th>
      <th>–ö–æ–ª-–≤–æ</th>
      <th>–û–±—â–∞—è —Ü–µ–Ω–∞</th>
      <th>–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody id="cart-body"></tbody>
</table>
<div id="cart-total" style="margin-top: 20px; font-weight: bold; font-size: 1.2em;">–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: 0 —Ä—É–±.</div>
<button id="order-btn">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å —Ñ–æ—Ä–º–æ–π -->
<div id="overlay">
  <div id="modal">
    <h2>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ</h2>
    <form id="orderform" onsubmit="return submitOrder()">
      <label for="fullName">–ò–º—è</label>
      <input type="text" id="fullName" required />

      <label for="ID">–¢–µ–ª–µ–≥—Ä–∞–º–º ID</label>
      <input type="text" id="ID" required />

      <label for="phone">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
      <input type="tel" id="phone" required />

      <label for="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
      <textarea id="comment" rows="4"></textarea>

      <button type="submit" id="submit-order">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>
    </form>
  </div>
</div>
<div class="podval">
  <p style="margin-top: 40px;">&copy; 2025 MANSOR. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
  <div style="margin-top:40px;">
    <strong class="rabotatop">–†–∞–±–æ—á–∏–µ —á–∞—Å—ã:</strong> <span id="working-hours"></span>
  </div>

<script src="script.js"></script>
<script>
   // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è –Ω–µ–¥–µ–ª–∏
   const today = new Date();
  const day = today.getDay(); // 0 - –í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 1 - –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫, ..., 6 - –°—É–±–±–æ—Ç–∞

  const hoursMap = {
    1: "–ü–Ω: 09:00 - 18:00",
    2: "–í—Ç: 09:00 - 18:00",
    3: "–°—Ä: 09:00 - 18:00",
    4: "–ß—Ç: 09:00 - 18:00",
    5: "–ü—Ç: 09:00 - 18:00",
    6: "–°–±: 10:00 - 14:00",
    0: "–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –≤—ã—Ö–æ–¥–Ω–æ–π"
  };

  document.getElementById('working-hours').textContent = hoursMap[day];
function loadCart() {
  const tbody = document.getElementById('cart-body');
  const totalDiv = document.getElementById('cart-total');
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  let totalSum = 0;

  if (cart.length === 0) {
    tbody.innerHTML = '<tr><td colspan="5">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</td></tr>';
    totalDiv.textContent = '–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: 0 —Ä—É–±.';
    return;
  }

  tbody.innerHTML = '';
  cart.forEach((item, index) => {
    const row = document.createElement('tr');

    row.innerHTML = `
      <td>${item.name}</td>
      <td>${item.price.toLocaleString()} —Ä—É–±.</td>
      <td><input type="number" min="1" value="${item.quantity}" onchange="updateQuantity(${index}, this.value)" /></td>
      <td>${(item.price * item.quantity).toLocaleString()} —Ä—É–±.</td>
      <td><button class="remove-btn" onclick="removeItem(${index})">–£–¥–∞–ª–∏—Ç—å</button></td>
    `;

    tbody.appendChild(row);
    totalSum += item.price * item.quantity;
  });

  totalDiv.textContent = '–ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞: ' + totalSum.toLocaleString() + ' —Ä—É–±.';
}

function updateQuantity(index, value) {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const qty = parseInt(value);
  if (isNaN(qty) || qty < 1) return;
  cart[index].quantity = qty;
  localStorage.setItem('cart', JSON.stringify(cart));
  loadCart();
}

function removeItem(index) {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  cart.splice(index, 1);
  localStorage.setItem('cart', JSON.stringify(cart));
  loadCart();
}

document.getElementById('order-btn').onclick = () => {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (cart.length === 0) {
    alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
    return;
  }
  document.getElementById('overlay').style.display = 'flex';
};

document.getElementById('overlay').onclick = (e) => {
  if (e.target === document.getElementById('overlay')) {
    document.getElementById('overlay').style.display = 'none';
  }
};

function submitOrder() {
  const fullName = document.getElementById('fullName').value.trim();
  const ID = document.getElementById('ID').value.trim();
  const phone = document.getElementById('phone').value.trim();
  const comment = document.getElementById('comment').value.trim();

  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  if (cart.length === 0) {
    alert('–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
    document.getElementById('overlay').style.display = 'none';
    return false;
  }
  if (!fullName || !ID || !phone) {
    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è');
    return false;
  }

  let message = `<b>üì¶ –ù–æ–≤—ã–π –∑–∞–∫–∞–∑!</b>\n\n`;
  message += `<b>üë§ –ò–º—è:</b> ${fullName}\n`;
  message += `<b>üì± –¢–µ–ª–µ—Ñ–æ–Ω:</b> ${phone}\n`;
  message += `<b>üíª –¢–µ–ª–µ–≥—Ä–∞–º–º:</b> @${ID}\n`;
  message += `<b>üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</b> ${comment || '‚Äî'}\n\n`;
  message += `<b>üõí –¢–æ–≤–∞—Ä—ã:</b>\n`;

  let totalSum = 0;
  cart.forEach(item => {
    message += `‚Ä¢ ${item.name} ‚Äî ${item.quantity} —à—Ç. x ${item.price} —Ä—É–±.\n`;
    totalSum += item.quantity * item.price;
  });

  message += `\n<b>üí∞ –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞:</b> ${totalSum.toLocaleString()} —Ä—É–±.`;

  const BOT_TOKEN = '7687713713:AAEvClfEgs3-PGXe_J9BAoM0Z2nyAg3_vBE';
  const CHAT_ID = '552793585';
  const URL_API = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

  fetch(URL_API, {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      chat_id: CHAT_ID,
      text: message,
      parse_mode: 'HTML'
    })
  })
  .then(res => res.json())
  .then(data => {
    if (data.ok) {
      alert(`–°–ø–∞—Å–∏–±–æ, ${fullName}! –í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç.`);
      localStorage.removeItem('cart');
      document.getElementById('overlay').style.display = 'none';
      loadCart();
    } else {
      alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–∫–∞–∑–∞ –≤ Telegram.');
    }
  })
  .catch(err => {
    console.error('Telegram API error:', err);
    alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Telegram API.');
  });

  return false;
}

window.onload = () => {
  loadCart();
};
</script>

</body>
</html>
